<!doctype html><html lang=v2 class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.74.3"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel=alternate type=application/rss+xml href=https://www.konstellation.io/v2/docs/20_architecture/10_kre_architecture/index.xml><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>KAI Server Architecture | Konstellation</title><meta property="og:title" content="KAI Server Architecture"><meta property="og:description" content="Components and architecture of a KAI Server"><meta property="og:type" content="website"><meta property="og:url" content="https://www.konstellation.io/v2/docs/20_architecture/10_kre_architecture/"><meta property="og:site_name" content="Konstellation"><meta itemprop=name content="KAI Server Architecture"><meta itemprop=description content="Components and architecture of a KAI Server"><meta name=twitter:card content="summary"><meta name=twitter:title content="KAI Server Architecture"><meta name=twitter:description content="Components and architecture of a KAI Server"><link rel=preload href=/scss/main.min.33e67b67522abab078f32f1ef9432f9311c52c0a0aed6a9c7f75fedcb53af9be.css as=style><link href=/scss/main.min.33e67b67522abab078f32f1ef9432f9311c52c0a0aed6a9c7f75fedcb53af9be.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-section><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/v2/><span class=navbar-logo><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="30" height="30" viewBox="0 0 30 30" id="svg9" sodipodi:docname="logo.svg" inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"><defs id="defs13"/><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1602" inkscape:window-height="871" id="namedview11" showgrid="false" inkscape:zoom="19.666667" inkscape:cx="25.549767" inkscape:cy="15.135206" inkscape:window-x="0" inkscape:window-y="27" inkscape:window-maximized="0" inkscape:current-layer="svg9"/><title id="title2">4135B303-CB0F-43C8-8C8F-225E46D3A3E3</title><g id="DS-Style-Guide" style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1" transform="matrix(0.41143082,0,0,0.41706694,-4.8865756,-5.012913)"><g id="DS-/-Style-Guide-/-Brand" transform="translate(-1323,-629)" style="fill:#e3e3e3"><g id="Atoms-/-Brand-/-Isotype-/-isotype-B-light" transform="translate(1323,629)"><g id="Atoms-/-Brand-/-Isotype-v4" transform="translate(17.361702,18.382979)"><path d="M39.392034.33851303C52.047353 4.0838212 61.27663 15.737809 61.27663 29.538647c0 16.82579-13.717447 30.466173-30.638298 30.466173C13.71714 60.00482 3.4042553e-5 46.364437 3.4042553e-5 29.538647 3.4042553e-5 15.737809 9.2293106 4.0838212 21.884289.33851303v0V9.5893971C14.155609 12.947446 8.7537362 20.615105 8.7537362 29.538647c0 12.018567 9.7981278 21.76131 21.8845958 21.76131 12.086468.0 21.884255-9.742743 21.884255-21.76131.0-8.923542-5.401532-16.591201-13.130553-19.9492499v0zM30.638332 20.833852c4.834383.0 8.753702 3.897301 8.753702 8.704863.0 4.807223-3.919319 8.704524-8.753702 8.704524-4.834724.0-8.754043-3.897301-8.754043-8.704524.0-4.807562 3.919319-8.704863 8.754043-8.704863z" id="Combined-Shape" inkscape:connector-curvature="0"/></g></g></g></g></svg></span><span class="text-uppercase font-weight-bold">Konstellation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/v2/installation/><span>Installation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/v2/docs/><span>Documentation</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/v2/template/><span>Template</span></a></li><li class="nav-item mr-4 mb-2 mb-lg-0"><a class=nav-link href=/v2/demo/><span>Demo</span></a></li><li class="nav-item dropdown d-none d-lg-block"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>V2</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/20_architecture/10_kre_architecture/>V1</a></div></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><div class="nav-item dropdown d-block d-lg-none"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false>V2</a><div class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><a class=dropdown-item href=/docs/20_architecture/10_kre_architecture/>V1</a></div></div><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=v2docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/10_getting_started/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Getting Started</a></li><ul><li class=collapse id=v2docs10_getting_started></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/20_architecture/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Architectures</a></li><ul><li class="collapse show" id=v2docs20_architecture><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/20_architecture/10_kre_architecture/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">KAI Server Architecture</a></li><ul><li class="collapse show" id=v2docs20_architecture10_kre_architecture></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/20_architecture/20_runner_architecture/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Version Archiceture</a></li><ul><li class=collapse id=v2docs20_architecture20_runner_architecture></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/30_runtimes/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Runtimes</a></li><ul><li class=collapse id=v2docs30_runtimes></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/40_versions/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Versions</a></li><ul><li class=collapse id=v2docs40_versions><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/40_versions/versions_krt_v2/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Versions in KRT V2</a></li><ul><li class=collapse id=v2docs40_versionsversions_krt_v2></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/50_krt_v2/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">KRT V2</a></li><ul><li class=collapse id=v2docs50_krt_v2><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/50_krt_v2/specs/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">KRT V2 YAML specs</a></li><ul><li class=collapse id=v2docs50_krt_v2specs></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/60_kais_runner_sdk/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">KAI Server Runner SDK</a></li><ul><li class=collapse id=v2docs60_kais_runner_sdk><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/60_kais_runner_sdk/10_sdk/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">SDK for KRT v2</a></li><ul><li class=collapse id=v2docs60_kais_runner_sdk10_sdk></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/60_kais_runner_sdk/20_features/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Runner features</a></li><ul><li class=collapse id=v2docs60_kais_runner_sdk20_features></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/v2/docs/70_observavility/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Observability</a></li><ul><li class=collapse id=v2docs70_observavility></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/konstellation-io/website/edit/master/content/v2/docs/20_architecture/10_kre_architecture/_index.md target=_blank><i class="fa fa-edit fa-fw"></i></a><a href="https://github.com/konstellation-io/website/issues/new?title=KAI%20Server%20Architecture" target=_blank><i class="fab fa-github fa-fw"></i></a><a href=https://github.com/konstellation-io/kre/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i></a></div><nav id=TableOfContents><ul><li><a href=#components>Components</a><ul><li><a href=#admin-api>Admin API</a></li><li><a href=#admin-ui>Admin UI</a></li><li><a href=#k8-manager>K8 Manager</a></li><li><a href=#mongodb>MongoDB</a></li><li><a href=#nats>NATs</a></li></ul></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.konstellation.io/v2/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.konstellation.io/v2/docs/20_architecture/>Architectures</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.konstellation.io/v2/docs/20_architecture/10_kre_architecture/>KAI Server Architecture</a></li></ol></nav><div class=td-content><h1>KAI Server Architecture</h1><div class=lead>Components and architecture of a KAI Server</div><p>KAI Server runs inside a kubernetes cluster in a single namespace. All components for the KAI Server are deployed in the same namespace (<code>kre</code> by default).</p><h2 id=components>Components</h2><div class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:1210px><img class=card-img-top src=/v2/docs/20_architecture/10_kre_architecture/kais_architecture_img_hud18d6d58d2dfc8c5233d1977631c0df3_88874_1200x0_resize_q75_catmullrom.jpg width=1200 height=833></div><p>The schema above shows the architecture inside KAI Server. It is a scalable and asynchronous architecture designed to seamless deploy process automation projects into production.</p><h3 id=admin-api>Admin API</h3><p>The Admin API is the central component of KAI Server. It is responsible for orchestrating all other components and executing user actions in the cluster.</p><h3 id=admin-ui>Admin UI</h3><p>This is the component that renders all the UI, where the users can interact with the Runtimes.</p><h3 id=k8-manager>K8 Manager</h3><p>This service exposes a gRPC service to encapsulate all Kubernetes related features and Prometheus queries to get metrics and alerts. The only service that is going to call this gRPC is the Admin API service when it&rsquo;s needed to create new Kubernetes resources.</p><h3 id=mongodb>MongoDB</h3><p>This is the database where the Admin API stores all the objects needed to manage the server. Users, runtimes, versions, workflows and so on.</p><h3 id=nats>NATs</h3><p>NATs is the event broker that serves as the backbone of communications inside the Server. Nodes in Workflows make use of NATs to communicate with each other.</p><h4 id=influxdb>InfluxDB</h4><p>KAI Server also stores metrics, for this it is used an InfluxDB instance. All nodes can write any kind of metric anytime desired. By giving a measurement name, tags, fields and data as usage of Influx requires.</p><h4 id=chronograf>Chronograf</h4><p>Chronograf will display stored metrics in any form desired. For this <em>Flux</em> queries are used within a given display format. These will display cells inside dashboards giving metrics meaning and context, valuable for analytics and supervision of projects.</p><div class=section-index><hr class=panel-line></div><div class="text-muted mt-5 pt-3 border-top">February 14, 2023: <a href=https://github.com/konstellation-io/website/commit/1f0e0d4abe17f1e9ba50c3d6b4168cb64798ed5b>feat: add versioning to the website documentation (#40) (1f0e0d4)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/konstellation-io/kre><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2023 The Konstellation Authors</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.a34f6fe6e1caad9ee74f246a8f19857e3b99c2008bc2813ea4940235123bbc5e.js integrity="sha256-o09v5uHKrZ7nTyRqjxmFfjuZwgCLwoE+pJQCNRI7vF4=" crossorigin=anonymous></script></body></html>