<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.74.3"><meta name=ROBOTS content="NOINDEX, NOFOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Concepts | Konstellation</title><meta property="og:title" content="Concepts"><meta property="og:description" content="A general description and purpose of KRT files."><meta property="og:type" content="article"><meta property="og:url" content="https://www.konstellation.io/docs/krt/concepts/"><meta property="article:modified_time" content="2020-08-14T13:38:23+02:00"><meta property="og:site_name" content="Konstellation"><meta itemprop=name content="Concepts"><meta itemprop=description content="A general description and purpose of KRT files."><meta itemprop=dateModified content="2020-08-14T13:38:23+02:00"><meta itemprop=wordCount content="580"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Concepts"><meta name=twitter:description content="A general description and purpose of KRT files."><link rel=preload href=/scss/main.min.33e67b67522abab078f32f1ef9432f9311c52c0a0aed6a9c7f75fedcb53af9be.css as=style><link href=/scss/main.min.33e67b67522abab078f32f1ef9432f9311c52c0a0aed6a9c7f75fedcb53af9be.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar"><a class=navbar-brand href=/><span class=navbar-logo><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" width="30" height="30" viewBox="0 0 30 30" id="svg9" sodipodi:docname="logo.svg" inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)"><defs id="defs13"/><sodipodi:namedview pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" objecttolerance="10" gridtolerance="10" guidetolerance="10" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:window-width="1602" inkscape:window-height="871" id="namedview11" showgrid="false" inkscape:zoom="19.666667" inkscape:cx="25.549767" inkscape:cy="15.135206" inkscape:window-x="0" inkscape:window-y="27" inkscape:window-maximized="0" inkscape:current-layer="svg9"/><title id="title2">4135B303-CB0F-43C8-8C8F-225E46D3A3E3</title><g id="DS-Style-Guide" style="fill:none;fill-rule:evenodd;stroke:none;stroke-width:1" transform="matrix(0.41143082,0,0,0.41706694,-4.8865756,-5.012913)"><g id="DS-/-Style-Guide-/-Brand" transform="translate(-1323,-629)" style="fill:#e3e3e3"><g id="Atoms-/-Brand-/-Isotype-/-isotype-B-light" transform="translate(1323,629)"><g id="Atoms-/-Brand-/-Isotype-v4" transform="translate(17.361702,18.382979)"><path d="M39.392034.33851303C52.047353 4.0838212 61.27663 15.737809 61.27663 29.538647c0 16.82579-13.717447 30.466173-30.638298 30.466173C13.71714 60.00482 3.4042553e-5 46.364437 3.4042553e-5 29.538647 3.4042553e-5 15.737809 9.2293106 4.0838212 21.884289.33851303v0V9.5893971C14.155609 12.947446 8.7537362 20.615105 8.7537362 29.538647c0 12.018567 9.7981278 21.76131 21.8845958 21.76131 12.086468.0 21.884255-9.742743 21.884255-21.76131.0-8.923542-5.401532-16.591201-13.130553-19.9492499v0zM30.638332 20.833852c4.834383.0 8.753702 3.897301 8.753702 8.704863.0 4.807223-3.919319 8.704524-8.753702 8.704524-4.834724.0-8.754043-3.897301-8.754043-8.704524.0-4.807562 3.919319-8.704863 8.754043-8.704863z" id="Combined-Shape" inkscape:connector-curvature="0"/></g></g></g></g></svg></span><span class="text-uppercase font-weight-bold">Konstellation</span></a><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li class="nav-item mr-4 mb-2 mb-lg-0"><a class="nav-link active" href=/docs/><span class=active>Documentation</span></a></li></ul></div><div class="navbar-nav d-none d-lg-block"></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><div class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/ class="align-left pl-0 pr-2 td-sidebar-link td-sidebar-link__section">Documentation</a></li><ul><li class="collapse show" id=docs><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/overview/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Overview</a></li><ul><li class=collapse id=docsoverview></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/krt/ class="align-left pl-0 pr-2 active td-sidebar-link td-sidebar-link__section">Runtime Transport (KRT)</a></li><ul><li class="collapse show" id=docskrt><a class="td-sidebar-link td-sidebar-link__page active" id=m-docskrtconcepts href=/docs/krt/concepts/>Concepts</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskrtspecs href=/docs/krt/specs/>KRT YAML specs</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/krt/tasks/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tasks</a></li><ul><li class=collapse id=docskrttasks><a class="td-sidebar-link td-sidebar-link__page" id=m-docskrttasksdefine_krt_yml href=/docs/krt/tasks/define_krt_yml/>Define a krt.yml file</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskrttaskscreate_an_entrypoint href=/docs/krt/tasks/create_an_entrypoint/>Create an Entrypoint</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskrttaskscoding_a_node href=/docs/krt/tasks/coding_a_node/>Coding a node</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskrttaskscreate_krt_file href=/docs/krt/tasks/create_krt_file/>Create a KRT</a></li></ul></ul></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/kre/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Runtime Engine (KRE)</a></li><ul><li class=collapse id=docskre><a class="td-sidebar-link td-sidebar-link__page" id=m-docskregetting_started href=/docs/kre/getting_started/>Getting started</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskreconcepts href=/docs/kre/concepts/>Concepts</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/kre/installation/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Installation</a></li><ul><li class=collapse id=docskreinstallation><a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationlocal href=/docs/kre/installation/local/>Local</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationhelm href=/docs/kre/installation/helm/>Helm basics</a><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/kre/installation/cloud/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Cloud</a></li><ul><li class=collapse id=docskreinstallationcloud><a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationcloudgke href=/docs/kre/installation/cloud/gke/>GKE</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationcloudeks href=/docs/kre/installation/cloud/eks/>EKS</a></li></ul></ul><a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationvalidate href=/docs/kre/installation/validate/>Validate</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskreinstallationcustomization href=/docs/kre/installation/customization/>Customization</a></li></ul></ul><ul class="td-sidebar-nav__section pr-md-3"><li class=td-sidebar-nav__section-title><a href=/docs/kre/tasks/ class="align-left pl-0 pr-2 collapsed td-sidebar-link td-sidebar-link__section">Tasks</a></li><ul><li class=collapse id=docskretasks><a class="td-sidebar-link td-sidebar-link__page" id=m-docskretaskslogin href=/docs/kre/tasks/login/>Login</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskretaskscreate_runtime href=/docs/kre/tasks/create_runtime/>Create runtime</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskretaskscreate_version href=/docs/kre/tasks/create_version/>Create version</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskretasksversion_management href=/docs/kre/tasks/version_management/>Version Management</a>
<a class="td-sidebar-link td-sidebar-link__page" id=m-docskretasksconsume_version_services href=/docs/kre/tasks/consume_version_services/>Call Version Services</a></li></ul></ul></li></ul></ul></li></ul></ul></nav></div></div><div class="d-none d-xl-block col-xl-2 td-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/konstellation-io/website/edit/master/content/en/docs/KRT/concepts/index.md target=_blank><i class="fa fa-edit fa-fw"></i>Edit this page</a>
<a href="https://github.com/konstellation-io/website/issues/new?title=Concepts" target=_blank><i class="fab fa-github fa-fw"></i>Create documentation issue</a></div><nav id=TableOfContents><ul><li><a href=#what-is-krt>What is KRT?</a></li><li><a href=#entities>Entities</a></li><li><a href=#krt-yaml-file>KRT YAML file</a></li><li><a href=#entrypoint>Entrypoint</a></li><li><a href=#workflows>Workflows</a></li><li><a href=#nodes>Nodes</a></li><li><a href=#runners>Runners</a></li></ul></nav></div><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=https://www.konstellation.io/docs/>Documentation</a></li><li class=breadcrumb-item><a href=https://www.konstellation.io/docs/krt/>Runtime Transport (KRT)</a></li><li class="breadcrumb-item active" aria-current=page><a href=https://www.konstellation.io/docs/krt/concepts/>Concepts</a></li></ol></nav><div class=td-content><h1>Concepts</h1><div class=lead>A general description and purpose of KRT files.</div><h2 id=what-is-krt>What is KRT?</h2><p>It stands for <strong>Konstellation Runtime Transport</strong>. Is the file format used in Konstellation as an easy way to move
between Development (KDL) to Production (KRE) environments.</p><p>A KRT file is a <strong>single and self-contained file</strong> with everything needed for a solution to be deployed on KRE. Is compressed
in <code>.tar.gz</code> format and renamed to <code>.krt</code> extension, it contains definition and all components of Runtime Version.</p><p>A KRT file defines and pack a complete Runtime Version, including:</p><ul><li>a definition YAML file named <code>krt.yml</code>.</li><li>source code of all components.</li><li>assets needed by each component.</li></ul><h2 id=entities>Entities</h2><p>These entities are used to in a KRT file to define how Version&rsquo;s components interoperate:</p><ul><li><a href=#krt-yaml-file>KRT YAML file</a></li><li><a href=#entrypoint>Entrypoint</a></li><li><a href=#workflows>Workflows</a></li><li><a href=#nodes>Nodes</a></li><li><a href=#runners>Runners</a></li></ul><h2 id=krt-yaml-file>KRT YAML file</h2><p>It is a declarative file describing the content of the KRT. It has general description of the Runtime Version,
a gRPC entrypoint for the Version, a list of nodes that are connected between each other in different workflows.</p><p>The yaml file connects all these entities together, Entrypoint, Workflow, Nodes and Runners in order to define a Version
and the way it works.</p><p>Learn about the fields in the <a href=/docs/krt/specs/>KRT YAML specs</a> and see a working
<a href=/docs/krt/tasks/define_krt_yml/>krt.yml example</a></p><h2 id=entrypoint>Entrypoint</h2><p>A Version defines its communication with the outside world through its entrypoint. This is a gRPC server
defined in proto buffer format containing messages and services to interact with workflows inside the Version.</p><div class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:910px><img class=card-img-top src=/docs/krt/concepts/entrypoint_example_hu8701a1e7995c95d39a92b454faad3e38_63313_900x0_resize_q75_catmullrom.jpg width=900 height=328><div class="card-body px-0 pt-2 pb-0"><p class=card-text>Entrypoint example</p></div></div><p>Each service defined in the proto file is connected to a workflow in the <code>krt.yml</code> file definition.</p><h2 id=workflows>Workflows</h2><p>A Workflow is a sequence of tasks used to process incoming messages from the outside world and returns a response.
Each task is a node of a graph that takes an input message and generates an output for the next node. The last node&rsquo;s
output is used as response to the incoming message.</p><div class="card rounded p-2 td-post-card mb-4 mt-4" style=max-width:910px><img class=card-img-top src=/docs/krt/concepts/basic_workflow_example_hu7a5b5d5cc96d9ada230aeb87ed5b9159_72389_900x0_resize_q75_catmullrom.jpg width=900 height=261><div class="card-body px-0 pt-2 pb-0"><p class=card-text>Example of a basic workflow that makes a prediction using three nodes</p></div></div><p>Each workflow can have one or more nodes, depending on how many steps are needed to process a given input message.</p><p>A workflow is connected to the outside world through a service defined in KRT entrypoint. This entrypoint is a gRPC
server that handle incoming calls from third parties gRPC clients and deliver them as input messages to the first
node in the workflow and wait for the last node output to send a response to it corresponding gRPC client call.</p><p>Once a Version is started, all nodes from all workflow are created as a POD in kubernetes.</p><h2 id=nodes>Nodes</h2><p>A Node is a task inside a workflow. It has two main parts, a runner image, and the source code files specific to perform
its task.</p><p>Nodes have a single responsibility consisting on receive an input message, perform a task and return an output message.
This is achieved with handler functions defined in source code files specified in the KRT file.</p><p>Once the node is running it will look for two handler functions, one at starting time for initialization, and a second
one to process incoming messages, these functions are called init handler and message handler respectively. Init handler
is optional and will be executed only once upon node starting to run. Message handler is mandatory and will
be executed each time the node receives a message.</p><h2 id=runners>Runners</h2><p>Runners are base docker images, provided by Konstellation team, that can be used for nodes to run code on different
programming languages. Each image includes language specific tools to integrate itself as part of a workflow.</p><div class="text-muted mt-5 pt-3 border-top">Last modified August 14, 2020: <a href=https://github.com/konstellation-io/website/commit/723eaaaff88c6409e23c2fe80ea8cc6b762c5927>add KRT docs. (723eaaa)</a></div></div></main></div></div><footer class="bg-dark py-5 row d-print-none"><div class="container-fluid mx-sm-5"><div class=row><div class="col-6 col-sm-4 text-xs-center order-sm-2"></div><div class="col-6 col-sm-4 text-right text-xs-center order-sm-3"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a class=text-white target=_blank href=https://github.com/konstellation-io/kre><i class="fab fa-github"></i></a></li></ul></div><div class="col-12 col-sm-4 text-center py-2 order-sm-2"><small class=text-white>&copy; 2020 The Konstellation Authors All Rights Reserved</small></div></div></div></footer></div><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js integrity=sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy crossorigin=anonymous></script><script src=/js/main.min.a34f6fe6e1caad9ee74f246a8f19857e3b99c2008bc2813ea4940235123bbc5e.js integrity="sha256-o09v5uHKrZ7nTyRqjxmFfjuZwgCLwoE+pJQCNRI7vF4=" crossorigin=anonymous></script></body></html>